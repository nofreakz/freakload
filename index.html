<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>FreakLoad</title>
    <link rel="stylesheet" href="assets/css/main.min.css" />
</head>
<body>
    <h1>FreakLoad</h1>

    <img data-url="assets/img/img1.jpg" data-priority="0.1" data-tags="a, b" alt="img-1" />
    <img data-url="assets/img/img2.jpg" data-priority="0.3" data-tags="a" alt="img-2" />
    <img data-url="assets/img/img3.jpg" data-priority="0.5" data-tags="a" alt="img-3" />
    <img data-url="assets/img/img4.jpg" data-priority="0.7" data-tags="c" alt="img-4" />
    <img data-url="assets/img/img5.jpg" data-priority="0.9" data-tags="b" alt="img-5" />
    <img data-url="assets/img/img6.jpg" data-priority="1.0" data-tags="b" alt="img-6" />

    <script src="assets/vendor/jquery/dist/jquery.min.js"></script>
    <script src="dist/js/jquery.freakload.js"></script>
    <script>
        $(function() {
            $('img').freakLoad({
                onStart: function(item) { console.log(item); },
                onComplete: function(data, item) {
                    item.src = item.dataset.url;
                }
            }/*, {
                groupOrder: ['c', 'a', 'b']
            }*/);
        });
    </script>

    <script>
        $(function() {
            /*var imgs = [],
                html = '',
                i = 0;

            while (i < 6) {
            	imgs[i] = {
            		url: 'assets/img/img' + (i + 1) + '.jpg',
            		priority: Math.random(),
            		tags: [(i < 2 ? 'a' : 'b'), 'c']
            	}
                html += '<li><img data-src="' + imgs[i].url + '" /></li>';
                i++;
            }

            html = $('<ul />').append(html);
            $('body').append(html);

            $.freakLoad(imgs, {
                loadByGroup: true,
                groupOrder: ['a', 'b', 'c'],
                on: {
                    complete: function() {
                        $('img').each(function() {
                            var $this = $(this);
                            $this.attr('src', $this.data('src'));
                        });
                    }
                },
                onGroup: {
                    start: function(group) {
                        console.log('group start', group);
                    },
                    complete: function(group) {
                        console.log('group complete', group);
                    }
                }
            });*/
        });
    </script>
</body>
</html>